(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const s=document.querySelectorAll('a[href^="#"]');for(let e of s)e.addEventListener("click",(function(t){t.preventDefault();const s=e.getAttribute("href");document.querySelector(s).scrollIntoView({behavior:"smooth",block:"start"})}));let c=document.querySelectorAll(".quiz__item"),o=0;function n(){c.forEach(((e,t)=>e.style.transform=`translateX(${100*(t-o)}%)`)),c.forEach((e=>e.classList.remove("active"))),c[o].classList.add("active")}c.forEach(((e,t)=>e.style.transform=`translateX(${100*t}%)`)),c.forEach((e=>e.classList.remove("active")));let i=document.querySelector("body"),a=document.querySelector(".forma-wrapper"),l=document.querySelector(".forma__phone"),r=document.querySelectorAll(".alert__item"),d=document.querySelector(".forma__load-box"),u=document.querySelectorAll(".quiz__next"),m=document.querySelector(".quiz__wrapper");function _(){a.style.visibility="hidden",r.forEach((e=>e.style.transform="scale(0)")),c.forEach((e=>e.classList.remove("active"))),m.classList.remove("active")}function v(){r.forEach((e=>e.style.transform="scale(0)"))}function f(e){return!/^[\d\+][\d\(\)\ -]{4,14}\d$/.test(e.value)}a.addEventListener("click",(function(e){e.target.classList.contains("quiz__next")&&(e.preventDefault(),o+=1,n()),e.target.classList.contains("quiz__back")&&(e.preventDefault(),o-=1,n()),e.target.classList.contains("close__quiz")&&(a.style.visibility="hidden",c.forEach((e=>e.classList.remove("active"))),m.classList.remove("active"))})),i.addEventListener("click",(function(e){if(e.target.classList.contains("order__call")){e.preventDefault(),a.style.visibility="visible",l.classList.add("active"),document.querySelector(".forma__close").onclick=function(){a.style.visibility="hidden",l.classList.remove("active")};let t=document.querySelector(".forma__title");e.target.classList.contains("order")?t.textContent=" СДЕЛАТЬ ЗАКАЗ":e.target.classList.contains("consultation")?t.textContent="Получить консультацию":e.target.classList.contains("master")?t.textContent="Заказать мастера":e.target.classList.contains("application")?t.textContent=" Оставить заявку":e.target.classList.contains("measuring")?t.textContent=" ЗАКАЗАТЬ БЕСПЛАТНЫЙ ЗАМЕР":t.textContent=" ОБРАТНЫЙ ЗВОНОК"}e.target.classList.contains("quiz__call")&&(a.style.visibility="visible",c[o].classList.add("active"),m.classList.add("active")),e.target.classList.contains("label__land")&&(u[0].removeAttribute("disabled"),o+=1,n()),e.target.classList.contains("label__finishing")&&(u[1].removeAttribute("disabled"),o+=1,n()),e.target.classList.contains("label__floor")&&(u[2].removeAttribute("disabled"),o+=1,n()),e.target.classList.contains("label__material")&&(u[3].removeAttribute("disabled"),o+=1,n()),e.target.classList.contains("label__dop")&&(u[4].removeAttribute("disabled"),e.target.classList.contains("radio")&&document.querySelectorAll(".check").forEach((e=>e.checked=!1)),e.target.classList.contains("checkbox")&&document.querySelectorAll(".radio__input").forEach((e=>e.checked=!1)))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form__phone");e.addEventListener("submit",(async function(t){if(t.preventDefault(),0===function(e){let t=0;const s=document.querySelectorAll(".req");for(let e=0;e<s.length;e++){const c=s[e];c.classList.contains("phone__check")?f(c)&&(document.querySelector(".phone__check").nextElementSibling.style.display="block",t++):"checkbox"==c.getAttribute("type")&&0==c.checked&&(document.querySelector(".agree__box").nextElementSibling.style.display="block",t++)}return t}()){let t=new FormData(e);d.classList.add("active");let s=await fetch("files/send.php",{method:"POST",headers:{"Content-Type":"aplication/json;chartset=utf-8"},body:JSON.stringify({form:{name:t.get("name"),phone:t.get("phone")}})});s.ok?(d.classList.remove("active"),l.classList.remove("active"),document.querySelector(".alert__item.success").style.transform="scale(1)",setTimeout(_,5e3),e.reset()):(console.log(s),d.classList.remove("active"),document.querySelector(".alert__item.server").style.transform="scale(1)",setTimeout(v,5e3))}})),document.querySelector(".forma__alert-box").addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("click__popup")&&l.classList.contains("active")?v():_()}))}));let y=document.querySelector(".message__main"),b=document.querySelector(".message__close"),L=document.querySelector(".message__box-hidden");y.addEventListener("click",(function(e){e.preventDefault(),y.classList.add("message__main_noactive"),L.classList.add("message__box-hidden-active"),b.onclick=function(e){e.preventDefault(),y.classList.remove("message__main_noactive"),L.classList.remove("message__box-hidden-active")},document.querySelector(".message__up-box").onclick=function(){y.classList.remove("message__main_noactive"),L.classList.remove("message__box-hidden-active")}}));let g=document.querySelector(".message"),h=document.querySelector(".header");new IntersectionObserver((function(e){e[0].isIntersecting?g.classList.remove("message-active"):g.classList.add("message-active")}),{root:null,threshold:0,rootMargin:"400px"}).observe(h);let q=document.querySelector(".forma__load-box.quiz");document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form__quiz");e.addEventListener("submit",(async function(t){if(t.preventDefault(),0===function(e){let t=0;const s=document.querySelectorAll(".req1");for(let c=0;c<s.length;c++){let o=s[c];if(o.classList.contains("phone__check"))f(o)&&(document.querySelector(".phone__check.req1").nextElementSibling.style.display="block",t++);else if("checkbox"==o.getAttribute("type")&&0==o.checked){function n(){document.querySelector(".agree__box.quiz").nextElementSibling.style.display="none"}document.querySelector(".agree__box.quiz").nextElementSibling.style.display="block",t++,setTimeout(n,5e3)}}return t}()){let t=new FormData(e);console.log(t),q.classList.add("active");let s=await fetch("files/quiz.php",{method:"POST",body:t});await s.text(),console.log(s),s.ok?(q.classList.remove("active"),document.querySelector(".alert__item.success.quiz").style.transform="scale(1)",setTimeout(_,5e3)):(q.classList.remove("active"),document.querySelector(".alert__item.server.quiz").style.transform="scale(1)",setTimeout(v,5e3))}})),document.querySelector(".forma__alert-box.quiz").addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("click__quiz")?v():_()}))}));let p=document.querySelector(".build__date-slider");const S=document.querySelector(".build__project-img").clientWidth;let k=document.querySelector(".build__date-img"),A=document.querySelector(".project__btn-slider.btn__right"),x=document.querySelector(".project__btn-slider.btn__left");p.addEventListener("click",(function(e){e.target.classList.contains("btn__right")&&k.scrollBy({left:S,top:0,behavior:"smooth"}),e.target.classList.contains("btn__left")&&k.scrollBy({left:-S,top:0,behavior:"smooth"})})),p.addEventListener("scroll",(function(e){k.scrollLeft,k.scrollLeft>0?x.classList.add("active__btn"):x.classList.remove("active__btn"),k.scrollLeft>k.scrollWidth-S-10?A.classList.remove("active__btn"):A.classList.add("active__btn")}),!0)})();